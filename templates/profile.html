{% extends "base.html" %}

{% block title %}Profile{% endblock %}

{% block extra_css %}
<style>
    /* Custom scrollbar */
    .custom-scrollbar::-webkit-scrollbar {
        width: 8px;
        height: 8px;
    }
    .custom-scrollbar::-webkit-scrollbar-track {
        background: #f1f1f1;
        border-radius: 4px;
    }
    .custom-scrollbar::-webkit-scrollbar-thumb {
        background: #cbd5e1;
        border-radius: 4px;
    }
    .custom-scrollbar::-webkit-scrollbar-thumb:hover {
        background: #94a3b8;
    }
    .custom-scrollbar {
        scrollbar-width: thin;
        scrollbar-color: #cbd5e1 #f1f1f1;
    }
</style>
{% endblock %}

{% block content %}
<div class="max-w-2xl mx-auto pt-16 lg:pt-16">
    <div class="bg-white rounded-xl shadow-sm p-6 lg:p-8">
        <h2 class="text-2xl font-bold text-blue-600 mb-6">Profile Settings</h2>

        <!-- Flash Messages -->
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                <div class="mb-4">
                    {% for category, message in messages %}
                        <div class="bg-white border-l-4 {% if category == 'success' %}border-green-500{% else %}border-red-500{% endif %} p-4 mb-4 shadow-sm rounded">
                            <p class="text-gray-700">{{ message }}</p>
                        </div>
                    {% endfor %}
                </div>
            {% endif %}
        {% endwith %}

        <form action="{{ url_for('profile') }}" method="POST" class="space-y-6">
            <div>
                <label for="username" class="block text-sm font-medium text-gray-700">Username</label>
                <input type="text" id="username" name="username" value="{{ current_user.username }}"
                    class="mt-1 block w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-400 focus:outline-none">
            </div>

            <div>
                <label for="email" class="block text-sm font-medium text-gray-700">Email</label>
                <input type="email" id="email" name="email" value="{{ current_user.email }}"
                    class="mt-1 block w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-400 focus:outline-none bg-gray-100 cursor-not-allowed"
                    readonly>
            </div>

            <div>
                <label for="change_password" class="block text-sm font-medium text-gray-700">Change Password</label>
                <div class="space-y-2 mt-1">
                    <input type="password" id="current_password" name="current_password"
                        class="block w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-400 focus:outline-none"
                        placeholder="Current Password">
                    <input type="password" id="new_password" name="new_password"
                        class="block w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-400 focus:outline-none"
                        placeholder="New Password">
                    <input type="password" id="confirm_password" name="confirm_password"
                        class="block w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-400 focus:outline-none"
                        placeholder="Confirm New Password">
                </div>
            </div>

            <div>
                <button type="submit"
                    class="w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-200">
                    Save Changes
                </button>
            </div>
        </form>
    </div>
</div>
{% endblock %}

